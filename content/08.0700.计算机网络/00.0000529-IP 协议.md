# IP 协议
- 2016-03-23 13:27:55
- 计算机网络
- 网络协议,计算机网络,ip,

<!--markdown-->
## Header Format

这里贴出来的是 IPv4 的 Header，IPv6 有些变动，但是不影响咱们理解和学习 IP 协议。

    0                   1                   2                   3
    0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |Version|  IHL  |Type of Service|          Total Length         |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |         Identification        |Flags|      Fragment Offset    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |  Time to Live |    Protocol   |         Header Checksum       |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                       Source Address                          |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    Destination Address                        |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
    |                    Options                    |    Padding    |
    +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+

字段说明：

* version：IP 协议的版本
* Time to Live ： IP 数据包的存活时间，超过时间后，数据报如果还没有到达目标地址，那么就会被丢弃掉
* Protocol ： 表明下一层协议，比如 TCP 或者 UDP
* Type of Service ： 表明这是一个什么样的数据报，用来区分优先级的。比如这是一个语音通话的数据报，那么它应该在网络上享受比较高的优先级。但实际上，在开放的互联网上，这样的想法太理想的，扶贫的时候，大家都哭着喊着穷，没办法，愁死路由器了。
* Source Address : 源地址，IP 地址
* Destination Address : 目标地址，IP 地址
* 以及其他一些信息，主要用来做数据的完整性或者正确性校验和一些附加信息。
