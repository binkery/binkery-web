# 关于HTML5的11个让人难以接受的事实
- 2014-08-01 12:58:23
- 
- html5,

<p align="left"><strong>HTML5</strong><strong>为</strong><strong>Web</strong><strong>开发者提供了很多强大的新特性，但是它的一些特定的限制会让它无法和本地应用匹敌。</strong></p>
<p align="left">HTML5整合进了很多新的特性，并且有可能提升Web编程模式。和每一个阅读技术资讯的人所知道的一样，没有任何一样东西能像HTML5对互联网造成更多改变。在代码中加入一些HTML5，网站会变得更快更炫。但是HTML5能为那些想要要网络上实现本地应用表现的人做什么可能不在此列了。</p>
<p align="left">在享受了HTML5的新标签以及APIs之后，现在已经是时机来承认HTML5模式确实是有一些限制的。这些限制不但会让我们对HTML5的幻梦破灭，还有可能让我们在某些场合不再使用HTML5。</p>
<p align="left">事实上是，尽管HTML5确实有很强大的功能，但它并不能解决所有问题。它的一些附加功能是非常强大的，能让Web apps成为native app的强有力的对手，但是安全问题、本地数据存储的限制、同步问题以及政治问题都会让我们减小对它的期望。毕竟，任何技术都是有其限制的。</p>
<p align="left">下面是Web开发者需要接受的一些关于HTML5的事实。</p>
<p align="left"><strong>事实</strong><strong>1：</strong><strong>安全是一场噩梦</strong></p>
<p align="left">客户端计算最根本的问题是用户最终拥有了对机器上运行的代码的控制权。在Web apps中，当浏览器拥有一个很强大的调试工具的时候，这种控制权比以往更容易被滥用。</p>
<p align="left">当在浏览器中集成了一个Javascript的调试器比如Firebug，任何对Facebook、Google以及其他网站感兴趣的人都可以插入断点来查看代码。这对于了解网站是如何运行的是非常有利的，但对于安全问题来说却是一场噩梦。</p>
<p align="left">想象有个变量的值是你想要改变的，Firebug或者其他一个浏览器调试器可以让你很容易地将数据改成你想要的任何数据。你想要通过改变你的地理位置来捉弄一下你的朋友吗？那么你可以修改浏览器中的进度和维度变量，让浏览器“处于”世界上的任何位置。所有你的Web应用的neat features都可以被修改，浏览器使得这样的修改比在本地应用中更为容易。</p>
<p align="left">对于引发的安全问题，也是有些限制的。一些Javascript工具比如Google Web Toolkit和标准的编译器一样复杂，它们的输出是非常令人费解的。但是一些工具比如<a href="https://addons.mozilla.org/en-US/firefox/addon/javascript-deminifier/" target="_blank"><strong>JavaScript Deminifier</strong></a>能解决这个问题。</p>
<p align="left">威胁当然也跟应用性质有关。一个人通过改变浏览器上显示的经纬度来和朋友开玩笑说在环游世界的途中是一回事，而获得其他人的权限又是另外一回事了，这会带来威胁。一旦涉及到金钱，情况会更糟糕。所有这些都意味着基于客户端的HTML5是不能用来处理敏感数据的，每个人都应该对自己的能力加以警醒。</p>
<p align="left"><strong>事实</strong><strong>2</strong><strong>：本地数据存储是有限制的</strong></p>
<p align="left">浏览器中隐藏的本地数据库让Web应用更容易在电脑上缓存数据。对任何一个在浏览器中享受这种台式机体验的人来说，这些数据库可以节省带宽，提升性能。然而它们肯定比不上本地应用的数据的强大功能。</p>
<p align="left">HTML5的数据存储能力毫无疑问是很重要的功能，但是你仍然不能将存储的数据迁移到另外一台机器上，或是制作副本、备份、用另外一个应用打开。所有这些数据都是隐藏在浏览器之下的。</p>
<p align="left">某种程度上说，这是最糟糕的一种情况。因为你要承担存储这些数据库的所有责任而不能对它有任何控制。</p>
<p align="left">一些最新的浏览器可以让你看到在你的机器上创建了哪些数据库，但这些信息是有限的。Safari甚至可以让你能够删除数据库，但是你不能浏览这些信息或是将它们迁移到另外一台机器上，这些文件在设计之初就没有让它能够很容易迁移，尽管你可以做到这一点，如果你知道到哪里找这些文件的话。</p>
<p align="left">你同样不能深入到文件中看到底存储了什么。当然，一个程序员可以看懂这些文件，但前提是他们研究清楚了文件格式并且做一些hacking。这些文件不像表单或者文本可以很容易地荣任何编辑器打开，使得它们不像本地应用那样容易被人们读懂。</p>
<p align="left"><strong>事实</strong><strong>3</strong><strong>：本地数据可以被操纵</strong></p>
<p align="left">用户可能并不拥有对数据的控制权，但是网站同样也被限制不能处理用户数据。用户换浏览器了？用户换机器了？很多Web开发者对此都无能为力。因为同步问题，他们不能让用户创建更多数据。</p>
<p align="left">Web开发者也需要担心本地数据库的安全。尽管没有工具可以让用户可以很容易修改本地数据并升级权限，但服务器同样也没有能力去阻止用户做到。所有因为运行用户修改Javascript代码的安全漏洞同样会影响数据库。它们门户大开，等着有人写一个 Greasemonkey脚本或一些本地代码去更改数据。</p>
<p align="left"><strong>事实</strong><strong>4</strong><strong>：离线数据对同步是一场噩梦</strong></p>
<p align="left">HTML5的本地数据存储极大提升了离线使用Web应用的能力。唯一的问题是数据同步。</p>
<p align="left">如果一个Web应用连接到网络上，它可以持续地将数据存储到云中去。而当应用离线时，应用中发生的数据就不能存储到云中。如果一个人切换了浏览器或者使用了不同的机器，就会出现副本，这时同步就会成为一个大问题。更糟糕的是，时钟本身就可能是不同步的，使得发现最新被保存的数据是不现实的。</p>
<p align="left">当然，这对本地应用来说也一直都是一个问题，但是在本地应用中，为同步负责的是人，他可以通过查看文件名并改变日期来进行同步。但是因为HTML5并没有给用户对隐藏在浏览器之下的数据库的控制权，开发者必须提供用户界面让用户通过这个界面来管理同步问题。</p>
<p align="left">这并非是一个完全棘手的问题。开发人员可以通过使用版本控制系统来处理这个问题，而现今的版本控制系统在处理这些问题上已经变得越发复杂了。但拥有这项技术并不意味着这是一个很容易使用的解决方案。合并不同GIT库是件很费时间的事情。HTML5开发者们需要先处理好这些问题，才能管理HTML5 Web应用的同步。</p>
<p align="left"><strong>事实</strong><strong>5</strong><strong>：云端什么都没有向你承诺</strong></p>
<p align="left">为HTML5将数据存储在云端而带来的所有结构性的问题来责备HTML5实际上不是件很公平的事情，但云端是一个必须的部分，因为云省去了安装软件和备份数据的麻烦。</p>
<p align="left">由于HTML5本地数据存储的限制，大量Web应用存储仍然要保留在服务器端，但这可能是灾难性的。就在最近Facebook决定将不再使用一个基于Linux的插件来上传照片，结果，这个插件去掉的，<a href="http://www.networkworld.com/community/node/75598"><strong>同样被去掉的是通过这个插件上传的照片</strong></a>。</p>
<p align="left">这样的例子比较少见，但是因为各种原因，它们正变得越来越多。你能确保那个可爱地免费提供他们的一切HTML5应用的新兴公司在几年后甚至几个月后还存在吗？你只能自求多福。</p>
<p align="left">情况还更糟糕。正如很多Web应用所明确说明的那样，这些数据并不是你的，在大数情形下，你不能诉诸法律来恢复数据。有些更离谱的服务条款甚至说数据可以“没有任何原因”就被删除。</p>
<p align="left">HTML5不仅没有避免这个问题，它的结构实际上是保证了任何由你的浏览器缓存的数据都会存储在云端，这些数据是脱离了你的控制的。HTML5的炒作说这是它的一个优势特性，但这实际上却很容易造成不利影响。</p>
<p align="left"><strong>事实</strong><strong>6</strong><strong>：强制升级并非是每个人都想要的</strong></p>
<p align="left">有个故事，或许是杜撰的，说一个人使用Gmail账户和酒吧里认识的人保持着随意的联系。当Google+出现以后，所有的历史记录都出现了，因为Google+在论坛里自动连上了那些旧的地址。每天，这些旧名字和旧面孔都会出现询问是否要加入到论坛中去。</p>
<p align="left">当Web应用公司需要升级的时候，他们会将所有人一次性升级。尽管这据说是为了让用户不再受升级安装文件之苦，但对于那些不想使用新特性的人来说，这确是一场噩梦。这不像上面是一个关于人们隐私的问题。新软件可能因为新旧软件包之间的依赖关系而经常崩溃。</p>
<p align="left"><strong>事实</strong><strong>7</strong><strong>：</strong><strong>Web Workers</strong><strong>并不会处理优先级</strong></p>
Web Workers（译者注：<a href="http://www.ibm.com/developerworks/cn/web/wa-webworkers/?cmp=dwskl&amp;cpb=dw&amp;ct=dwcon&amp;cr=cn_CCID&amp;ccy=cn"><strong>一种</strong><strong>新的</strong><strong>&nbsp;JavaScript&nbsp;</strong><strong>编程模型</strong></a>）是HTML5的一个非常耐人寻味的特性。与其去使用Javascript传统的wait、delay和pause命令，现在Web开发者可以拆分他们的命令并且整合到Web Workers的CPU hogs中。换句话说，HTML5 Web开发者可以让浏览器表现得像操作系统一样。
<p align="left">但问题在于，Web Workers并没有复制操作系统的所有特性。尽管它提供了一种方式来讲负载分支并分离，但是却没有方法来管理负载或是设置优先级。API只是让消息传入或者传出Worker对象。这就是它做的一切了，剩下的都交给浏览器了。</p>
<p align="left">CPU丰富的应用比如code crackers会潜入流行网站的后台吗？用户被交给会周期性被窃取的网站了吗？病毒已经附在一切有用的软件上了，那么攻破网站就只是时间问题了。而用户面对这一切能做的很少，因为他们没有办法去监测或者跟踪Worker objects做了什么。电脑被重定向到指定网页的时候只会越来越慢。</p>
<p align="left"><strong>事实</strong><strong>8</strong><strong>：</strong><strong>格式不兼容比比皆是</strong></p>
HTML5引入了&lt;audio&gt;和&lt;video&gt; 标签，第一眼看上去，它们和图像标签一样好用。只要在其中加入一个URL，浏览器就会引入数据流。然而，如果它真有这么简单的话，为什么我浪费了两个星期来让所有主要的浏览器可以播放基本的音频文件呢？
<p align="left">个别浏览器构建者只实现了部分而不是全部的音频视频格式确实不是HTML5委员会的错。大家都是人，都想要争夺统治权。往往在一个浏览器上工作正常的文件到了另外一个浏览器上却不能工作了。开发者要如何测试这一点呢？API开发者非常聪明，他们加入了 canPlayType函数，但就是这个函数也不是所有浏览器都支持的。</p>
<p align="left"><strong>事实</strong><strong>9</strong><strong>：各浏览器的实现是独立的</strong></p>
HTML5的田园诗般的愿景是一回事，其实现的蹩脚的现实是另一回事。诚然，程序员正在尽他们最大努力来实现架构师的梦想，但就是有一些标签和对象无法正常工作。
<p align="left">例如，有很多理由去喜欢HTML5的地理定位API。它提供了对隐私的一定程度的包含，对精确度也有控制。要是它能一直一贯地工作该有多好——有的浏览器就会总是超时，这个浏览器还是不太聪明，因为它应该知道台式机上是没有GPS芯片的。</p>
<p align="left">最后，人们会去抱怨浏览器没有完全实现HTML5的特性，而不是去责备API本身的结构问题。这一事实凸显了Web开发者在开发基于HTML5的Web应用时所面临的挑战。</p>
<p align="left"><strong>事实</strong><strong>10</strong><strong>：</strong><strong>硬件</strong><strong>idiosyncracies</strong><strong>带来新的挑战</strong></p>
<p align="left">抱怨某些浏览器构建者超出了职责要求而提供更好的性能表现似乎也不公平，但这并非是恩将仇报。一个法拉利拥有者在绕过了一个灯杆以后，他就会发现有时候额外的动力并非总是好事。</p>
<p align="left">Microsof通过将IE和低端硬件驱动整合而提升了IE浏览器中画布对象（Canvas object）的性能。它甚至做了一些游戏比如pirateslovedaisies.com来显示其性能。</p>
<p align="left">但现在程序员们需要注意这些附加功能是否能够实现，并且这些代码的运行速度也是无法保证的。</p>
<p align="left">例如，pirateslovedaisies.com的游戏设计者设计了一个开关来开启或者关闭IE支持的特性。但是，有没有一个API来告诉你这些特性是什么呢？没有。最简单的方式是通过浏览器名字来进行测试并估算帧速率。很多游戏开发者都有多年经验来了解可用硬件的范围，唯一的解决方法就是禁止创新，但这将是Web开发者又要解决的一个新的问题。</p>
<p align="left"><strong>事实</strong><strong>11</strong><strong>：政治一直都存在</strong></p>
<p align="left">有个叫Ian Hickson的人，是HTML5标准的主要起草者，也是生命的最高独裁者（the Supreme Dictator for Life）。我想他们这是在开玩笑，因为这样的头衔实在太不匹配了。标准的编写者只是在提出建议，浏览器公司的编码天才们才是最终做出决定的人。他们可以选择实现或者不实习某个特性，然后Web开发者就要去测试结果是否稳定。几年以后，标准就会根据与实现程度的匹配情况做出改变。</p>
<p align="left">很多Javascript开发者将兼容性问题都留给了开发代码库的人，比如jQuery。这些层让我们不必去了解不同浏览器之间的差别。但是，这些代码在将来是否足够健壮？只有时间才会知道。</p>
<p align="left">这个议题凸显了这个领域中最根本的问题。我们想要自由、创造性以及因为浏览器间的激烈竞争而产生的丰富特性。创新的脚步非常快，但是因为浏览器开发者都争相添加新的特性以赢得先机，使得各个浏览器之间有更多的不同。</p>
<p align="left">但我们希望能有一个统一的指挥者这样就能获得稳定性。但是，对于独裁和自治间的争斗，从来都没有一个理想的解决方式。与其为这些差异头疼，我们或许想要听听Winston Churchill对下议院所说的话：“事实上，民主是一种最糟糕的政府形式，除非其他的形式都经过了一次又一次的试验。”</p>